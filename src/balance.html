<!DOCTYPE HTML>
<html>
    <head>
        <script>
        window.onload = function() {

        var dataPoints = [];

        var chart = new CanvasJS.Chart("chartContainer", {
            animationEnabled: true,
            theme: "light2",
            title: {
                text: "Account balance"
            },
            axisY: {
                title: "Balance",
                titleFontSize: 18,
                includeZero: true
            },
            axisX: {
                valueFormatString: "DD-MMM",
                intervalType: "day",
                interval: 1,
                labelAngle: -50
            },
            data: [{
                type: "spline",
                yValueFormatString: "#,## '&euro;'",
                dataPoints: dataPoints
            }]
        });

        function addData(data) {
            for (var i = 0; i < data.length; i++) {
                dataPoints.push({
                    x: new Date(data[i].balance_date),
                    y: data[i].balance_amount
                });
            }
            chart.render();

        }

        $.getJSON("balance.json", addData);

        }
        </script>
    </head>

    <body>
        <div id="chartContainer" style="height: 370px; width: 100%;"></div>

        <iframe src="https://ghbtns.com/github-btn.html?user=upperm&repo=echargement&type=star&count=true" frameborder="0" scrolling="0" width="50" height="20" title="GitHub"></iframe>
        <script src="https://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script>
        <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
    </body>
</html>
